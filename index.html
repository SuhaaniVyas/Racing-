<!DOCTYPE html>
<html>

<head>
    <style>
        body {
            background-image: url("empty-race-track-background-aaron-foster.jpg");
            background-position: center;
            background-size: cover;
        }

        #c {
            border-width: 10px;
            background-color: white;
            border-style: ridge;
            background-image: url("race_track.jpg");
        }

        h1,
        h4 {
            color: black !important;
        }
    </style>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <title>Moving Rover On</title>
</head>

<body onload="add();"></body>
<center>
    <h1>Racecars Rolling!</h1>
    <h4> <b class="text-danger">NOTE : </b> IF CAR IS NOT VISIABLE PRESS ANY ARROW KEY</h4>
    <canvas id="c" width="600" height="400"></canvas>

</center>
<script>
    cv = document.getElementById("c");
    ctx = cv.getContext("2d");
    car1_width = 120;
    car1_height = 70;
    car1_image = "car1.png";
    car1_x = 10;
    car1_y = 100;

    car2_width = 120;
    car2_height = 70;
    car2_image = "car2.png";
    car2_x = 10;
    car2_y = 20;

    backround_image = "race_track.jpg";

    function add() {
        car1_imageTag = new Image();
        car1_imageTag.onload = uploadcar1;
        car1_imageTag.src = car1_image;

        car2_imageTag = new Image();
        car2_imageTag.onload = uploadcar2;
        car2_imageTag.src = car2_image;
    }

    function uploadBackround() {
        ctx.drawImage(backround_imageTag, 0, 0, cv.width, cv.height);
    }

    function uploadcar1() {
        ctx.drawImage(car1_imageTag, car1_x, car1_y, car1_width, car1_height);
    }

    function uploadcar2() {
        ctx.drawImage(car2_imageTag, car2_x, car2_y, car2_width, car2_height);
    }

    window.addEventListener("keydown", my_keydown);

    function my_keydown(e) {
        keyPress = e.keyCode;
        console.log(keyPress);
        if (keyPress == '38') {
            car1up();
            console.log("up");
        }

        if (keyPress == '40') {
            car1down();
            console.log("down");
        }

        if (keyPress == '37') {
            car1left();
            console.log("left");
        }

            if (keyPress == '39') {
                car1right();
                console.log("right");
            }
        
    }
    window.addEventListener("keydown", my_keydown);

    function my_keydown(e) {
        keyPress = e.keyCode;
        console.log(keyPress);
        if (keyPress == '87') {
            car2w();
            console.log("w");
        }

        if (keyPress == '83') {
            car2s();
            console.log("s");
        }

        if (keyPress == '65') {
            car2a();
            console.log("a");
        }

        if (keyPress == '68') {
            car2d();
            console.log("d");
        }
    }


    function car1up() {
        if (car1_y >= 0) {
            car1_y = car1_y - 10;
            console.log("when up arrow is pressed, x=" + car1_x + "y=" + car1_y);
            uploadcar1();
            uploadcar2();
            uploadBackround();
        }
    }

    function car1down() {
        if (car1_y <= 300) {
            car1_y = car1_y + 10;
            console.log("when down arrow is pressed, x=" + car1_x + "y=" + car1_y);
            uploadcar1();
            uploadcar2();
            uploadBackround();
        }
    }

    function car1left() {
        if (car1_x >= 0) {
            car1_x = car1_x - 10;
            console.log("when left arrow is pressed, x=" + car1_x + "y=" + car1_y);
            uploadcar1();
            uploadcar2();
            uploadBackround();
        }
    }

    function car1right() {
        if (car1_x <= 700) {
            car1x = car1_x + 10;
            console.log("when right arrow is pressed, x = " + car1_x + "y = " + car1_y);
            uploadcar1();
            uploadcar2();
            uploadBackround();
        }
    }

    function car2w() {
        if (car2_y >= 0) {
            car2_y = car2_y - 10;
            console.log("when w key is pressed, x =" + car2_x + "y=" + car2_y);
            uploadcar1();
            uploadcar2();
            uploadBackround();
        }
    }

    function car2s() {
        if (car2_y <= 500) {
            car2_y = car2_y + 10;
            console.log("when s key is pressed, x =" + car2_x + "y=" + car2_y);
            uploadcar1();
            uploadcar2();
            uploadBackround();
        }
    }

    function car2a() {
        if (car2_x >= 0) {
            car2_x = car2_x - 10;
            console.log("when a key is pressed, x =" + car2_x + "y=" + car2_y);
            uploadcar1();
            uploadcar2();
            uploadBackround();
        }
    }

    function car2d() {
        if (car2_x <= 700) {
            car2_x = car2_x + 10;
            console.log("when d key is presses, x = " + car2_x + "y = " + car2_y);
            uploadcar1();
            uploadcar2();
            uploadBackround();
        }
    }
</script>
</body>
</html>
    